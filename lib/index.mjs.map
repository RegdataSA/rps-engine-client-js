{"version":3,"file":"index.mjs","sources":["../node_modules/node-stdlib-browser/node_modules/punycode/punycode.js","../node_modules/querystring-es3/decode.js","../node_modules/querystring-es3/encode.js","../node_modules/querystring-es3/index.js","../node_modules/node-stdlib-browser/cjs/proxy/querystring.js","../node_modules/node-stdlib-browser/cjs/proxy/url.js","../node_modules/jsonschema/lib/helpers.js","../node_modules/jsonschema/lib/attribute.js","../node_modules/jsonschema/lib/scan.js","../node_modules/jsonschema/lib/validator.js","../node_modules/jsonschema/lib/index.js","../src/schemes.js","../src/Validator.js","../src/RpsEvidence.js","../src/utils.js","../src/RpsValue.js","../src/RpsContext.js","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/utils.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/buffer/index.js","../node_modules/process/browser.js","../node_modules/node-stdlib-browser/helpers/esbuild/shim.js","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/axios/lib/core/enhanceError.js","../node_modules/axios/lib/core/createError.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/core/buildFullPath.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/cancel/Cancel.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/defaults.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/core/mergeConfig.js","../node_modules/axios/lib/env/data.js","../node_modules/axios/lib/helpers/validator.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/lib/helpers/isAxiosError.js","../node_modules/axios/lib/axios.js","../node_modules/axios/index.js","../src/HttpClientCreator.js","../src/TokenProvider.js","../src/EngineClient.js","../src/RequestBuilder.js"],"sourcesContent":["/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar querystringEs3 = require('querystring-es3');\n\n/**\n * @typedef {import('querystring').escape} qsEscape\n * @typedef {import('querystring').unescape} qsUnescape\n */\n/**\n * @type {qsEscape}\n */\n\nfunction qsEscape(string) {\n  return encodeURIComponent(string);\n}\n/**\n * @type {qsUnescape}\n */\n\n\nfunction qsUnescape(string) {\n  return decodeURIComponent(string);\n}\n\nvar api = {\n  decode: querystringEs3.decode,\n  encode: querystringEs3.encode,\n  parse: querystringEs3.parse,\n  stringify: querystringEs3.stringify,\n  escape: qsEscape,\n  unescape: qsUnescape\n};\n\nObject.defineProperty(exports, 'decode', {\n\tenumerable: true,\n\tget: function () { return querystringEs3.decode; }\n});\nObject.defineProperty(exports, 'encode', {\n\tenumerable: true,\n\tget: function () { return querystringEs3.encode; }\n});\nObject.defineProperty(exports, 'parse', {\n\tenumerable: true,\n\tget: function () { return querystringEs3.parse; }\n});\nObject.defineProperty(exports, 'stringify', {\n\tenumerable: true,\n\tget: function () { return querystringEs3.stringify; }\n});\nexports[\"default\"] = api;\nexports.escape = qsEscape;\nexports.unescape = qsUnescape;\n\nexports = module.exports = api;\n//# sourceMappingURL=querystring.js.map\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar require$$0 = require('punycode');\nvar require$$2 = require('querystring');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar require$$0__default = /*#__PURE__*/_interopDefaultLegacy(require$$0);\nvar require$$2__default = /*#__PURE__*/_interopDefaultLegacy(require$$2);\n\nvar util$1 = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n\nvar punycode = require$$0__default[\"default\"];\nvar util = util$1;\n\nvar parse = urlParse;\nvar resolve$1 = urlResolve;\nvar resolveObject = urlResolveObject;\nvar format = urlFormat;\n\nvar Url_1 = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require$$2__default[\"default\"];\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nfunction resolve() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : '/';\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n}function filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\nvar _globalThis = function (Object) {\n  function get() {\n    var _global = this || self;\n\n    delete Object.prototype.__magic__;\n    return _global;\n  }\n\n  if (typeof globalThis === \"object\") {\n    return globalThis;\n  }\n\n  if (this) {\n    return get();\n  } else {\n    Object.defineProperty(Object.prototype, \"__magic__\", {\n      configurable: true,\n      get: get\n    });\n    var _global = __magic__;\n    return _global;\n  }\n}(Object);\nvar formatImport =\n/** @type {formatImport}*/\nformat;\nvar parseImport =\n/** @type {parseImport}*/\nparse;\nvar resolveImport =\n/** @type {resolveImport}*/\nresolve$1; // @ts-ignore\n\nvar UrlImport =\n/** @type {UrlImport}*/\nUrl_1;\nvar URL = _globalThis.URL;\n/* eslint-disable-next-line unicorn/prevent-abbreviations */\n\nvar URLSearchParams = _globalThis.URLSearchParams;\nvar percentRegEx = /%/g;\nvar backslashRegEx = /\\\\/g;\nvar newlineRegEx = /\\n/g;\nvar carriageReturnRegEx = /\\r/g;\nvar tabRegEx = /\\t/g;\nvar CHAR_FORWARD_SLASH = 47;\n/**\n * @param {unknown} instance\n */\n\nfunction isURLInstance(instance) {\n  var resolved =\n  /** @type {URL|null} */\n  instance != null ? instance : null;\n  return Boolean(resolved !== null && (resolved == null ? void 0 : resolved.href) && (resolved == null ? void 0 : resolved.origin));\n}\n/**\n * @param {URL} url\n */\n\n\nfunction getPathFromURLPosix(url) {\n  if (url.hostname !== '') {\n    throw new TypeError(\"File URL host must be \\\"localhost\\\" or empty on browser\");\n  }\n\n  var pathname = url.pathname;\n\n  for (var n = 0; n < pathname.length; n++) {\n    if (pathname[n] === '%') {\n      // @ts-ignore\n      var third = pathname.codePointAt(n + 2) | 0x20;\n\n      if (pathname[n + 1] === '2' && third === 102) {\n        throw new TypeError('File URL path must not include encoded / characters');\n      }\n    }\n  }\n\n  return decodeURIComponent(pathname);\n}\n/**\n * @param {string} filepath\n */\n\n\nfunction encodePathChars(filepath) {\n  if (filepath.includes('%')) {\n    filepath = filepath.replace(percentRegEx, '%25');\n  }\n\n  if (filepath.includes('\\\\')) {\n    filepath = filepath.replace(backslashRegEx, '%5C');\n  }\n\n  if (filepath.includes('\\n')) {\n    filepath = filepath.replace(newlineRegEx, '%0A');\n  }\n\n  if (filepath.includes('\\r')) {\n    filepath = filepath.replace(carriageReturnRegEx, '%0D');\n  }\n\n  if (filepath.includes('\\t')) {\n    filepath = filepath.replace(tabRegEx, '%09');\n  }\n\n  return filepath;\n}\n\nvar domainToASCII =\n/**\n * @type {domainToASCII}\n */\nfunction domainToASCII(domain) {\n  if (typeof domain === 'undefined') {\n    throw new TypeError('The \"domain\" argument must be specified');\n  }\n\n  return new URL(\"http://\" + domain).hostname;\n};\n\nvar domainToUnicode =\n/**\n * @type {domainToUnicode}\n */\nfunction domainToUnicode(domain) {\n  if (typeof domain === 'undefined') {\n    throw new TypeError('The \"domain\" argument must be specified');\n  }\n\n  return new URL(\"http://\" + domain).hostname;\n};\n\nvar pathToFileURL =\n/**\n * @type {(url: string) => URL}\n */\nfunction pathToFileURL(filepath) {\n  var outURL = new URL('file://');\n  var resolved = resolve(filepath);\n  var filePathLast = filepath.charCodeAt(filepath.length - 1);\n\n  if (filePathLast === CHAR_FORWARD_SLASH && resolved[resolved.length - 1] !== '/') {\n    resolved += '/';\n  }\n\n  outURL.pathname = encodePathChars(resolved);\n  return outURL;\n};\n\nvar fileURLToPath =\n/**\n * @type {fileURLToPath & ((path: string | URL) => string)}\n */\nfunction fileURLToPath(path) {\n  if (!isURLInstance(path) && typeof path !== 'string') {\n    throw new TypeError(\"The \\\"path\\\" argument must be of type string or an instance of URL. Received type \" + typeof path + \" (\" + path + \")\");\n  }\n\n  var resolved = new URL(path);\n\n  if (resolved.protocol !== 'file:') {\n    throw new TypeError('The URL must be of scheme file');\n  }\n\n  return getPathFromURLPosix(resolved);\n};\n\nvar formatImportWithOverloads =\n/**\n * @type {(\n *   ((urlObject: URL, options?: URLFormatOptions) => string) &\n *   ((urlObject: UrlObject | string, options?: never) => string)\n * )}\n */\nfunction formatImportWithOverloads(urlObject, options) {\n  var _options$auth, _options$fragment, _options$search;\n\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (!(urlObject instanceof URL)) {\n    return formatImport(urlObject);\n  }\n\n  if (typeof options !== 'object' || options === null) {\n    throw new TypeError('The \"options\" argument must be of type object.');\n  }\n\n  var auth = (_options$auth = options.auth) != null ? _options$auth : true;\n  var fragment = (_options$fragment = options.fragment) != null ? _options$fragment : true;\n  var search = (_options$search = options.search) != null ? _options$search : true;\n  var parsed = new URL(urlObject.toString());\n\n  if (!auth) {\n    parsed.username = '';\n    parsed.password = '';\n  }\n\n  if (!fragment) {\n    parsed.hash = '';\n  }\n\n  if (!search) {\n    parsed.search = '';\n  }\n\n  return parsed.toString();\n};\n\nvar api = {\n  format: formatImportWithOverloads,\n  parse: parseImport,\n  resolve: resolveImport,\n  resolveObject: resolveObject,\n  Url: UrlImport,\n  URL: URL,\n  URLSearchParams: URLSearchParams,\n  domainToASCII: domainToASCII,\n  domainToUnicode: domainToUnicode,\n  pathToFileURL: pathToFileURL,\n  fileURLToPath: fileURLToPath\n};\n\nexports.URL = URL;\nexports.URLSearchParams = URLSearchParams;\nexports.Url = UrlImport;\nexports[\"default\"] = api;\nexports.domainToASCII = domainToASCII;\nexports.domainToUnicode = domainToUnicode;\nexports.fileURLToPath = fileURLToPath;\nexports.format = formatImportWithOverloads;\nexports.parse = parseImport;\nexports.pathToFileURL = pathToFileURL;\nexports.resolve = resolveImport;\nexports.resolveObject = resolveObject;\n\nexports = module.exports = api;\n//# sourceMappingURL=url.js.map\n","'use strict';\n\nvar uri = require('url');\n\nvar ValidationError = exports.ValidationError = function ValidationError (message, instance, schema, path, name, argument) {\n  if(Array.isArray(path)){\n    this.path = path;\n    this.property = path.reduce(function(sum, item){\n      return sum + makeSuffix(item);\n    }, 'instance');\n  }else if(path !== undefined){\n    this.property = path;\n  }\n  if (message) {\n    this.message = message;\n  }\n  if (schema) {\n    var id = schema.$id || schema.id;\n    this.schema = id || schema;\n  }\n  if (instance !== undefined) {\n    this.instance = instance;\n  }\n  this.name = name;\n  this.argument = argument;\n  this.stack = this.toString();\n};\n\nValidationError.prototype.toString = function toString() {\n  return this.property + ' ' + this.message;\n};\n\nvar ValidatorResult = exports.ValidatorResult = function ValidatorResult(instance, schema, options, ctx) {\n  this.instance = instance;\n  this.schema = schema;\n  this.options = options;\n  this.path = ctx.path;\n  this.propertyPath = ctx.propertyPath;\n  this.errors = [];\n  this.throwError = options && options.throwError;\n  this.throwFirst = options && options.throwFirst;\n  this.throwAll = options && options.throwAll;\n  this.disableFormat = options && options.disableFormat === true;\n};\n\nValidatorResult.prototype.addError = function addError(detail) {\n  var err;\n  if (typeof detail == 'string') {\n    err = new ValidationError(detail, this.instance, this.schema, this.path);\n  } else {\n    if (!detail) throw new Error('Missing error detail');\n    if (!detail.message) throw new Error('Missing error message');\n    if (!detail.name) throw new Error('Missing validator type');\n    err = new ValidationError(detail.message, this.instance, this.schema, this.path, detail.name, detail.argument);\n  }\n\n  this.errors.push(err);\n  if (this.throwFirst) {\n    throw new ValidatorResultError(this);\n  }else if(this.throwError){\n    throw err;\n  }\n  return err;\n};\n\nValidatorResult.prototype.importErrors = function importErrors(res) {\n  if (typeof res == 'string' || (res && res.validatorType)) {\n    this.addError(res);\n  } else if (res && res.errors) {\n    Array.prototype.push.apply(this.errors, res.errors);\n  }\n};\n\nfunction stringizer (v,i){\n  return i+': '+v.toString()+'\\n';\n}\nValidatorResult.prototype.toString = function toString(res) {\n  return this.errors.map(stringizer).join('');\n};\n\nObject.defineProperty(ValidatorResult.prototype, \"valid\", { get: function() {\n  return !this.errors.length;\n} });\n\nmodule.exports.ValidatorResultError = ValidatorResultError;\nfunction ValidatorResultError(result) {\n  if(Error.captureStackTrace){\n    Error.captureStackTrace(this, ValidatorResultError);\n  }\n  this.instance = result.instance;\n  this.schema = result.schema;\n  this.options = result.options;\n  this.errors = result.errors;\n}\nValidatorResultError.prototype = new Error();\nValidatorResultError.prototype.constructor = ValidatorResultError;\nValidatorResultError.prototype.name = \"Validation Error\";\n\n/**\n * Describes a problem with a Schema which prevents validation of an instance\n * @name SchemaError\n * @constructor\n */\nvar SchemaError = exports.SchemaError = function SchemaError (msg, schema) {\n  this.message = msg;\n  this.schema = schema;\n  Error.call(this, msg);\n  Error.captureStackTrace(this, SchemaError);\n};\nSchemaError.prototype = Object.create(Error.prototype,\n  {\n    constructor: {value: SchemaError, enumerable: false},\n    name: {value: 'SchemaError', enumerable: false},\n  });\n\nvar SchemaContext = exports.SchemaContext = function SchemaContext (schema, options, path, base, schemas) {\n  this.schema = schema;\n  this.options = options;\n  if(Array.isArray(path)){\n    this.path = path;\n    this.propertyPath = path.reduce(function(sum, item){\n      return sum + makeSuffix(item);\n    }, 'instance');\n  }else{\n    this.propertyPath = path;\n  }\n  this.base = base;\n  this.schemas = schemas;\n};\n\nSchemaContext.prototype.resolve = function resolve (target) {\n  return uri.resolve(this.base, target);\n};\n\nSchemaContext.prototype.makeChild = function makeChild(schema, propertyName){\n  var path = (propertyName===undefined) ? this.path : this.path.concat([propertyName]);\n  var id = schema.$id || schema.id;\n  var base = uri.resolve(this.base, id||'');\n  var ctx = new SchemaContext(schema, this.options, path, base, Object.create(this.schemas));\n  if(id && !ctx.schemas[base]){\n    ctx.schemas[base] = schema;\n  }\n  return ctx;\n};\n\nvar FORMAT_REGEXPS = exports.FORMAT_REGEXPS = {\n  'date-time': /^\\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\\.\\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,\n  'date': /^\\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,\n  'time': /^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,\n\n  'email': /^(?:[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+\\.)*[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!\\.)){0,61}[a-zA-Z0-9]?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\\[(?:(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\.){3}(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\]))$/,\n  'ip-address': /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,\n  'ipv6': /^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$/,\n\n  // TODO: A more accurate regular expression for \"uri\" goes:\n  // [A-Za-z][+\\-.0-9A-Za-z]*:((/(/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?)?)?#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(/(/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])|/?%[0-9A-Fa-f]{2}|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*(#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|/(/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\\d*)?|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?:\\d*|\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)?)?\n  'uri': /^[a-zA-Z][a-zA-Z0-9+-.]*:[^\\s]*$/,\n  'uri-reference': /^(((([A-Za-z][+\\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\\-.0-9A-Za-z]*:)?\\/((%[0-9A-Fa-f]{2}|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\\-.0-9A-Za-z]*:)?\\/((%[0-9A-Fa-f]{2}|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\\d*)?|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?:\\d*|\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)?|[A-Za-z][+\\-.0-9A-Za-z]*:?)?$/,\n\n  'color': /^(#?([0-9A-Fa-f]{3}){1,2}\\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\\(\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*\\))|(rgb\\(\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*\\)))$/,\n\n  // hostname regex from: http://stackoverflow.com/a/1420225/5628\n  'hostname': /^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\\.?$/,\n  'host-name': /^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\\.?$/,\n\n  'alpha': /^[a-zA-Z]+$/,\n  'alphanumeric': /^[a-zA-Z0-9]+$/,\n  'utc-millisec': function (input) {\n    return (typeof input === 'string') && parseFloat(input) === parseInt(input, 10) && !isNaN(input);\n  },\n  'regex': function (input) {\n    var result = true;\n    try {\n      new RegExp(input);\n    } catch (e) {\n      result = false;\n    }\n    return result;\n  },\n  'style': /\\s*(.+?):\\s*([^;]+);?/,\n  'phone': /^\\+(?:[0-9] ?){6,14}[0-9]$/,\n};\n\nFORMAT_REGEXPS.regexp = FORMAT_REGEXPS.regex;\nFORMAT_REGEXPS.pattern = FORMAT_REGEXPS.regex;\nFORMAT_REGEXPS.ipv4 = FORMAT_REGEXPS['ip-address'];\n\nexports.isFormat = function isFormat (input, format, validator) {\n  if (typeof input === 'string' && FORMAT_REGEXPS[format] !== undefined) {\n    if (FORMAT_REGEXPS[format] instanceof RegExp) {\n      return FORMAT_REGEXPS[format].test(input);\n    }\n    if (typeof FORMAT_REGEXPS[format] === 'function') {\n      return FORMAT_REGEXPS[format](input);\n    }\n  } else if (validator && validator.customFormats &&\n      typeof validator.customFormats[format] === 'function') {\n    return validator.customFormats[format](input);\n  }\n  return true;\n};\n\nvar makeSuffix = exports.makeSuffix = function makeSuffix (key) {\n  key = key.toString();\n  // This function could be capable of outputting valid a ECMAScript string, but the\n  // resulting code for testing which form to use would be tens of thousands of characters long\n  // That means this will use the name form for some illegal forms\n  if (!key.match(/[.\\s\\[\\]]/) && !key.match(/^[\\d]/)) {\n    return '.' + key;\n  }\n  if (key.match(/^\\d+$/)) {\n    return '[' + key + ']';\n  }\n  return '[' + JSON.stringify(key) + ']';\n};\n\nexports.deepCompareStrict = function deepCompareStrict (a, b) {\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b)) {\n      return false;\n    }\n    if (a.length !== b.length) {\n      return false;\n    }\n    return a.every(function (v, i) {\n      return deepCompareStrict(a[i], b[i]);\n    });\n  }\n  if (typeof a === 'object') {\n    if (!a || !b) {\n      return a === b;\n    }\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n    return aKeys.every(function (v) {\n      return deepCompareStrict(a[v], b[v]);\n    });\n  }\n  return a === b;\n};\n\nfunction deepMerger (target, dst, e, i) {\n  if (typeof e === 'object') {\n    dst[i] = deepMerge(target[i], e);\n  } else {\n    if (target.indexOf(e) === -1) {\n      dst.push(e);\n    }\n  }\n}\n\nfunction copyist (src, dst, key) {\n  dst[key] = src[key];\n}\n\nfunction copyistWithDeepMerge (target, src, dst, key) {\n  if (typeof src[key] !== 'object' || !src[key]) {\n    dst[key] = src[key];\n  }\n  else {\n    if (!target[key]) {\n      dst[key] = src[key];\n    } else {\n      dst[key] = deepMerge(target[key], src[key]);\n    }\n  }\n}\n\nfunction deepMerge (target, src) {\n  var array = Array.isArray(src);\n  var dst = array && [] || {};\n\n  if (array) {\n    target = target || [];\n    dst = dst.concat(target);\n    src.forEach(deepMerger.bind(null, target, dst));\n  } else {\n    if (target && typeof target === 'object') {\n      Object.keys(target).forEach(copyist.bind(null, target, dst));\n    }\n    Object.keys(src).forEach(copyistWithDeepMerge.bind(null, target, src, dst));\n  }\n\n  return dst;\n}\n\nmodule.exports.deepMerge = deepMerge;\n\n/**\n * Validates instance against the provided schema\n * Implements URI+JSON Pointer encoding, e.g. \"%7e\"=\"~0\"=>\"~\", \"~1\"=\"%2f\"=>\"/\"\n * @param o\n * @param s The path to walk o along\n * @return any\n */\nexports.objectGetPath = function objectGetPath(o, s) {\n  var parts = s.split('/').slice(1);\n  var k;\n  while (typeof (k=parts.shift()) == 'string') {\n    var n = decodeURIComponent(k.replace(/~0/,'~').replace(/~1/g,'/'));\n    if (!(n in o)) return;\n    o = o[n];\n  }\n  return o;\n};\n\nfunction pathEncoder (v) {\n  return '/'+encodeURIComponent(v).replace(/~/g,'%7E');\n}\n/**\n * Accept an Array of property names and return a JSON Pointer URI fragment\n * @param Array a\n * @return {String}\n */\nexports.encodePath = function encodePointer(a){\n  // ~ must be encoded explicitly because hacks\n  // the slash is encoded by encodeURIComponent\n  return a.map(pathEncoder).join('');\n};\n\n\n/**\n * Calculate the number of decimal places a number uses\n * We need this to get correct results out of multipleOf and divisibleBy\n * when either figure is has decimal places, due to IEEE-754 float issues.\n * @param number\n * @returns {number}\n */\nexports.getDecimalPlaces = function getDecimalPlaces(number) {\n\n  var decimalPlaces = 0;\n  if (isNaN(number)) return decimalPlaces;\n\n  if (typeof number !== 'number') {\n    number = Number(number);\n  }\n\n  var parts = number.toString().split('e');\n  if (parts.length === 2) {\n    if (parts[1][0] !== '-') {\n      return decimalPlaces;\n    } else {\n      decimalPlaces = Number(parts[1].slice(1));\n    }\n  }\n\n  var decimalParts = parts[0].split('.');\n  if (decimalParts.length === 2) {\n    decimalPlaces += decimalParts[1].length;\n  }\n\n  return decimalPlaces;\n};\n\nexports.isSchema = function isSchema(val){\n  return (typeof val === 'object' && val) || (typeof val === 'boolean');\n};\n\n","'use strict';\n\nvar helpers = require('./helpers');\n\n/** @type ValidatorResult */\nvar ValidatorResult = helpers.ValidatorResult;\n/** @type SchemaError */\nvar SchemaError = helpers.SchemaError;\n\nvar attribute = {};\n\nattribute.ignoreProperties = {\n  // informative properties\n  'id': true,\n  'default': true,\n  'description': true,\n  'title': true,\n  // arguments to other properties\n  'additionalItems': true,\n  'then': true,\n  'else': true,\n  // special-handled properties\n  '$schema': true,\n  '$ref': true,\n  'extends': true,\n};\n\n/**\n * @name validators\n */\nvar validators = attribute.validators = {};\n\n/**\n * Validates whether the instance if of a certain type\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {ValidatorResult|null}\n */\nvalidators.type = function validateType (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var types = Array.isArray(schema.type) ? schema.type : [schema.type];\n  if (!types.some(this.testType.bind(this, instance, schema, options, ctx))) {\n    var list = types.map(function (v) {\n      if(!v) return;\n      var id = v.$id || v.id;\n      return id ? ('<' + id + '>') : (v+'');\n    });\n    result.addError({\n      name: 'type',\n      argument: list,\n      message: \"is not of a type(s) \" + list,\n    });\n  }\n  return result;\n};\n\nfunction testSchemaNoThrow(instance, options, ctx, callback, schema){\n  var throwError = options.throwError;\n  var throwAll = options.throwAll;\n  options.throwError = false;\n  options.throwAll = false;\n  var res = this.validateSchema(instance, schema, options, ctx);\n  options.throwError = throwError;\n  options.throwAll = throwAll;\n\n  if (!res.valid && callback instanceof Function) {\n    callback(res);\n  }\n  return res.valid;\n}\n\n/**\n * Validates whether the instance matches some of the given schemas\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {ValidatorResult|null}\n */\nvalidators.anyOf = function validateAnyOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var inner = new ValidatorResult(instance, schema, options, ctx);\n  if (!Array.isArray(schema.anyOf)){\n    throw new SchemaError(\"anyOf must be an array\");\n  }\n  if (!schema.anyOf.some(\n    testSchemaNoThrow.bind(\n      this, instance, options, ctx, function(res){inner.importErrors(res);}\n    ))) {\n    var list = schema.anyOf.map(function (v, i) {\n      var id = v.$id || v.id;\n      if(id) return '<' + id + '>';\n      return(v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n    });\n    if (options.nestedErrors) {\n      result.importErrors(inner);\n    }\n    result.addError({\n      name: 'anyOf',\n      argument: list,\n      message: \"is not any of \" + list.join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance matches every given schema\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null}\n */\nvalidators.allOf = function validateAllOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema.allOf)){\n    throw new SchemaError(\"allOf must be an array\");\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var self = this;\n  schema.allOf.forEach(function(v, i){\n    var valid = self.validateSchema(instance, v, options, ctx);\n    if(!valid.valid){\n      var id = v.$id || v.id;\n      var msg = id || (v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n      result.addError({\n        name: 'allOf',\n        argument: { id: msg, length: valid.errors.length, valid: valid },\n        message: 'does not match allOf schema ' + msg + ' with ' + valid.errors.length + ' error[s]:',\n      });\n      result.importErrors(valid);\n    }\n  });\n  return result;\n};\n\n/**\n * Validates whether the instance matches exactly one of the given schemas\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null}\n */\nvalidators.oneOf = function validateOneOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema.oneOf)){\n    throw new SchemaError(\"oneOf must be an array\");\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var inner = new ValidatorResult(instance, schema, options, ctx);\n  var count = schema.oneOf.filter(\n    testSchemaNoThrow.bind(\n      this, instance, options, ctx, function(res) {inner.importErrors(res);}\n    ) ).length;\n  var list = schema.oneOf.map(function (v, i) {\n    var id = v.$id || v.id;\n    return id || (v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n  });\n  if (count!==1) {\n    if (options.nestedErrors) {\n      result.importErrors(inner);\n    }\n    result.addError({\n      name: 'oneOf',\n      argument: list,\n      message: \"is not exactly one from \" + list.join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates \"then\" or \"else\" depending on the result of validating \"if\"\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null}\n */\nvalidators.if = function validateIf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) return null;\n  if (!helpers.isSchema(schema.if)) throw new Error('Expected \"if\" keyword to be a schema');\n  var ifValid = testSchemaNoThrow.call(this, instance, options, ctx, null, schema.if);\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var res;\n  if(ifValid){\n    if (schema.then === undefined) return;\n    if (!helpers.isSchema(schema.then)) throw new Error('Expected \"then\" keyword to be a schema');\n    res = this.validateSchema(instance, schema.then, options, ctx.makeChild(schema.then));\n    result.importErrors(res);\n  }else{\n    if (schema.else === undefined) return;\n    if (!helpers.isSchema(schema.else)) throw new Error('Expected \"else\" keyword to be a schema');\n    res = this.validateSchema(instance, schema.else, options, ctx.makeChild(schema.else));\n    result.importErrors(res);\n  }\n  return result;\n};\n\nfunction getEnumerableProperty(object, key){\n  // Determine if `key` shows up in `for(var key in object)`\n  // First test Object.hasOwnProperty.call as an optimization: that guarantees it does\n  if(Object.hasOwnProperty.call(object, key)) return object[key];\n  // Test `key in object` as an optimization; false means it won't\n  if(!(key in object)) return;\n  while( (object = Object.getPrototypeOf(object)) ){\n    if(Object.propertyIsEnumerable.call(object, key)) return object[key];\n  }\n}\n\n/**\n * Validates propertyNames\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.propertyNames = function validatePropertyNames (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var subschema = schema.propertyNames!==undefined ? schema.propertyNames : {};\n  if(!helpers.isSchema(subschema)) throw new SchemaError('Expected \"propertyNames\" to be a schema (object or boolean)');\n\n  for (var property in instance) {\n    if(getEnumerableProperty(instance, property) !== undefined){\n      var res = this.validateSchema(property, subschema, options, ctx.makeChild(subschema));\n      result.importErrors(res);\n    }\n  }\n\n  return result;\n};\n\n/**\n * Validates properties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.properties = function validateProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var properties = schema.properties || {};\n  for (var property in properties) {\n    var subschema = properties[property];\n    if(subschema===undefined){\n      continue;\n    }else if(subschema===null){\n      throw new SchemaError('Unexpected null, expected schema in \"properties\"');\n    }\n    if (typeof options.preValidateProperty == 'function') {\n      options.preValidateProperty(instance, property, subschema, options, ctx);\n    }\n    var prop = getEnumerableProperty(instance, property);\n    var res = this.validateSchema(prop, subschema, options, ctx.makeChild(subschema, property));\n    if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n    result.importErrors(res);\n  }\n  return result;\n};\n\n/**\n * Test a specific property within in instance against the additionalProperties schema attribute\n * This ignores properties with definitions in the properties schema attribute, but no other attributes.\n * If too many more types of property-existence tests pop up they may need their own class of tests (like `type` has)\n * @private\n * @return {boolean}\n */\nfunction testAdditionalProperty (instance, schema, options, ctx, property, result) {\n  if(!this.types.object(instance)) return;\n  if (schema.properties && schema.properties[property] !== undefined) {\n    return;\n  }\n  if (schema.additionalProperties === false) {\n    result.addError({\n      name: 'additionalProperties',\n      argument: property,\n      message: \"is not allowed to have the additional property \" + JSON.stringify(property),\n    });\n  } else {\n    var additionalProperties = schema.additionalProperties || {};\n\n    if (typeof options.preValidateProperty == 'function') {\n      options.preValidateProperty(instance, property, additionalProperties, options, ctx);\n    }\n\n    var res = this.validateSchema(instance[property], additionalProperties, options, ctx.makeChild(additionalProperties, property));\n    if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n    result.importErrors(res);\n  }\n}\n\n/**\n * Validates patternProperties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.patternProperties = function validatePatternProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var patternProperties = schema.patternProperties || {};\n\n  for (var property in instance) {\n    var test = true;\n    for (var pattern in patternProperties) {\n      var subschema = patternProperties[pattern];\n      if(subschema===undefined){\n        continue;\n      }else if(subschema===null){\n        throw new SchemaError('Unexpected null, expected schema in \"patternProperties\"');\n      }\n      try {\n        var regexp = new RegExp(pattern, 'u');\n      } catch(_e) {\n        // In the event the stricter handling causes an error, fall back on the forgiving handling\n        // DEPRECATED\n        regexp = new RegExp(pattern);\n      }\n      if (!regexp.test(property)) {\n        continue;\n      }\n      test = false;\n\n      if (typeof options.preValidateProperty == 'function') {\n        options.preValidateProperty(instance, property, subschema, options, ctx);\n      }\n\n      var res = this.validateSchema(instance[property], subschema, options, ctx.makeChild(subschema, property));\n      if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n      result.importErrors(res);\n    }\n    if (test) {\n      testAdditionalProperty.call(this, instance, schema, options, ctx, property, result);\n    }\n  }\n\n  return result;\n};\n\n/**\n * Validates additionalProperties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.additionalProperties = function validateAdditionalProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  // if patternProperties is defined then we'll test when that one is called instead\n  if (schema.patternProperties) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  for (var property in instance) {\n    testAdditionalProperty.call(this, instance, schema, options, ctx, property, result);\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at least of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minProperties = function validateMinProperties (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var keys = Object.keys(instance);\n  if (!(keys.length >= schema.minProperties)) {\n    result.addError({\n      name: 'minProperties',\n      argument: schema.minProperties,\n      message: \"does not meet minimum property length of \" + schema.minProperties,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at most of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxProperties = function validateMaxProperties (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var keys = Object.keys(instance);\n  if (!(keys.length <= schema.maxProperties)) {\n    result.addError({\n      name: 'maxProperties',\n      argument: schema.maxProperties,\n      message: \"does not meet maximum property length of \" + schema.maxProperties,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates items when instance is an array\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.items = function validateItems (instance, schema, options, ctx) {\n  var self = this;\n  if (!this.types.array(instance)) return;\n  if (!schema.items) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  instance.every(function (value, i) {\n    var items = Array.isArray(schema.items) ? (schema.items[i] || schema.additionalItems) : schema.items;\n    if (items === undefined) {\n      return true;\n    }\n    if (items === false) {\n      result.addError({\n        name: 'items',\n        message: \"additionalItems not permitted\",\n      });\n      return false;\n    }\n    var res = self.validateSchema(value, items, options, ctx.makeChild(items, i));\n    if(res.instance !== result.instance[i]) result.instance[i] = res.instance;\n    result.importErrors(res);\n    return true;\n  });\n  return result;\n};\n\n/**\n * Validates minimum and exclusiveMinimum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minimum = function validateMinimum (instance, schema, options, ctx) {\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (schema.exclusiveMinimum && schema.exclusiveMinimum === true) {\n    if(!(instance > schema.minimum)){\n      result.addError({\n        name: 'minimum',\n        argument: schema.minimum,\n        message: \"must be greater than \" + schema.minimum,\n      });\n    }\n  } else {\n    if(!(instance >= schema.minimum)){\n      result.addError({\n        name: 'minimum',\n        argument: schema.minimum,\n        message: \"must be greater than or equal to \" + schema.minimum,\n      });\n    }\n  }\n  return result;\n};\n\n/**\n * Validates maximum and exclusiveMaximum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maximum = function validateMaximum (instance, schema, options, ctx) {\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (schema.exclusiveMaximum && schema.exclusiveMaximum === true) {\n    if(!(instance < schema.maximum)){\n      result.addError({\n        name: 'maximum',\n        argument: schema.maximum,\n        message: \"must be less than \" + schema.maximum,\n      });\n    }\n  } else {\n    if(!(instance <= schema.maximum)){\n      result.addError({\n        name: 'maximum',\n        argument: schema.maximum,\n        message: \"must be less than or equal to \" + schema.maximum,\n      });\n    }\n  }\n  return result;\n};\n\n/**\n * Validates the number form of exclusiveMinimum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.exclusiveMinimum = function validateExclusiveMinimum (instance, schema, options, ctx) {\n  // Support the boolean form of exclusiveMinimum, which is handled by the \"minimum\" keyword.\n  if(typeof schema.exclusiveMaximum === 'boolean') return;\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var valid = instance > schema.exclusiveMinimum;\n  if (!valid) {\n    result.addError({\n      name: 'exclusiveMinimum',\n      argument: schema.exclusiveMinimum,\n      message: \"must be strictly greater than \" + schema.exclusiveMinimum,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates the number form of exclusiveMaximum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.exclusiveMaximum = function validateExclusiveMaximum (instance, schema, options, ctx) {\n  // Support the boolean form of exclusiveMaximum, which is handled by the \"maximum\" keyword.\n  if(typeof schema.exclusiveMaximum === 'boolean') return;\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var valid = instance < schema.exclusiveMaximum;\n  if (!valid) {\n    result.addError({\n      name: 'exclusiveMaximum',\n      argument: schema.exclusiveMaximum,\n      message: \"must be strictly less than \" + schema.exclusiveMaximum,\n    });\n  }\n  return result;\n};\n\n/**\n * Perform validation for multipleOf and divisibleBy, which are essentially the same.\n * @param instance\n * @param schema\n * @param validationType\n * @param errorMessage\n * @returns {String|null}\n */\nvar validateMultipleOfOrDivisbleBy = function validateMultipleOfOrDivisbleBy (instance, schema, options, ctx, validationType, errorMessage) {\n  if (!this.types.number(instance)) return;\n\n  var validationArgument = schema[validationType];\n  if (validationArgument == 0) {\n    throw new SchemaError(validationType + \" cannot be zero\");\n  }\n\n  var result = new ValidatorResult(instance, schema, options, ctx);\n\n  var instanceDecimals = helpers.getDecimalPlaces(instance);\n  var divisorDecimals = helpers.getDecimalPlaces(validationArgument);\n\n  var maxDecimals = Math.max(instanceDecimals , divisorDecimals);\n  var multiplier = Math.pow(10, maxDecimals);\n\n  if (Math.round(instance * multiplier) % Math.round(validationArgument * multiplier) !== 0) {\n    result.addError({\n      name: validationType,\n      argument:  validationArgument,\n      message: errorMessage + JSON.stringify(validationArgument),\n    });\n  }\n\n  return result;\n};\n\n/**\n * Validates divisibleBy when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.multipleOf = function validateMultipleOf (instance, schema, options, ctx) {\n  return validateMultipleOfOrDivisbleBy.call(this, instance, schema, options, ctx, \"multipleOf\", \"is not a multiple of (divisible by) \");\n};\n\n/**\n * Validates multipleOf when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.divisibleBy = function validateDivisibleBy (instance, schema, options, ctx) {\n  return validateMultipleOfOrDivisbleBy.call(this, instance, schema, options, ctx, \"divisibleBy\", \"is not divisible by (multiple of) \");\n};\n\n/**\n * Validates whether the instance value is present.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.required = function validateRequired (instance, schema, options, ctx) {\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (instance === undefined && schema.required === true) {\n    // A boolean form is implemented for reverse-compatibility with schemas written against older drafts\n    result.addError({\n      name: 'required',\n      message: \"is required\",\n    });\n  } else if (this.types.object(instance) && Array.isArray(schema.required)) {\n    schema.required.forEach(function(n){\n      if(getEnumerableProperty(instance, n)===undefined){\n        result.addError({\n          name: 'required',\n          argument: n,\n          message: \"requires property \" + JSON.stringify(n),\n        });\n      }\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value matches the regular expression, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.pattern = function validatePattern (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var pattern = schema.pattern;\n  try {\n    var regexp = new RegExp(pattern, 'u');\n  } catch(_e) {\n    // In the event the stricter handling causes an error, fall back on the forgiving handling\n    // DEPRECATED\n    regexp = new RegExp(pattern);\n  }\n  if (!instance.match(regexp)) {\n    result.addError({\n      name: 'pattern',\n      argument: schema.pattern,\n      message: \"does not match pattern \" + JSON.stringify(schema.pattern.toString()),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is of a certain defined format or a custom\n * format.\n * The following formats are supported for string types:\n *   - date-time\n *   - date\n *   - time\n *   - ip-address\n *   - ipv6\n *   - uri\n *   - color\n *   - host-name\n *   - alpha\n *   - alpha-numeric\n *   - utc-millisec\n * @param instance\n * @param schema\n * @param [options]\n * @param [ctx]\n * @return {String|null}\n */\nvalidators.format = function validateFormat (instance, schema, options, ctx) {\n  if (instance===undefined) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!result.disableFormat && !helpers.isFormat(instance, schema.format, this)) {\n    result.addError({\n      name: 'format',\n      argument: schema.format,\n      message: \"does not conform to the \" + JSON.stringify(schema.format) + \" format\",\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at least of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minLength = function validateMinLength (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var hsp = instance.match(/[\\uDC00-\\uDFFF]/g);\n  var length = instance.length - (hsp ? hsp.length : 0);\n  if (!(length >= schema.minLength)) {\n    result.addError({\n      name: 'minLength',\n      argument: schema.minLength,\n      message: \"does not meet minimum length of \" + schema.minLength,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at most of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxLength = function validateMaxLength (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  // TODO if this was already computed in \"minLength\", use that value instead of re-computing\n  var hsp = instance.match(/[\\uDC00-\\uDFFF]/g);\n  var length = instance.length - (hsp ? hsp.length : 0);\n  if (!(length <= schema.maxLength)) {\n    result.addError({\n      name: 'maxLength',\n      argument: schema.maxLength,\n      message: \"does not meet maximum length of \" + schema.maxLength,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether instance contains at least a minimum number of items, when the instance is an Array.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minItems = function validateMinItems (instance, schema, options, ctx) {\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!(instance.length >= schema.minItems)) {\n    result.addError({\n      name: 'minItems',\n      argument: schema.minItems,\n      message: \"does not meet minimum length of \" + schema.minItems,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether instance contains no more than a maximum number of items, when the instance is an Array.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxItems = function validateMaxItems (instance, schema, options, ctx) {\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!(instance.length <= schema.maxItems)) {\n    result.addError({\n      name: 'maxItems',\n      argument: schema.maxItems,\n      message: \"does not meet maximum length of \" + schema.maxItems,\n    });\n  }\n  return result;\n};\n\n/**\n * Deep compares arrays for duplicates\n * @param v\n * @param i\n * @param a\n * @private\n * @return {boolean}\n */\nfunction testArrays (v, i, a) {\n  var j, len = a.length;\n  for (j = i + 1, len; j < len; j++) {\n    if (helpers.deepCompareStrict(v, a[j])) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Validates whether there are no duplicates, when the instance is an Array.\n * @param instance\n * @return {String|null}\n */\nvalidators.uniqueItems = function validateUniqueItems (instance, schema, options, ctx) {\n  if (schema.uniqueItems!==true) return;\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!instance.every(testArrays)) {\n    result.addError({\n      name: 'uniqueItems',\n      message: \"contains duplicate item\",\n    });\n  }\n  return result;\n};\n\n/**\n * Validate for the presence of dependency properties, if the instance is an object.\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {null|ValidatorResult}\n */\nvalidators.dependencies = function validateDependencies (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  for (var property in schema.dependencies) {\n    if (instance[property] === undefined) {\n      continue;\n    }\n    var dep = schema.dependencies[property];\n    var childContext = ctx.makeChild(dep, property);\n    if (typeof dep == 'string') {\n      dep = [dep];\n    }\n    if (Array.isArray(dep)) {\n      dep.forEach(function (prop) {\n        if (instance[prop] === undefined) {\n          result.addError({\n            // FIXME there's two different \"dependencies\" errors here with slightly different outputs\n            // Can we make these the same? Or should we create different error types?\n            name: 'dependencies',\n            argument: childContext.propertyPath,\n            message: \"property \" + prop + \" not found, required by \" + childContext.propertyPath,\n          });\n        }\n      });\n    } else {\n      var res = this.validateSchema(instance, dep, options, childContext);\n      if(result.instance !== res.instance) result.instance = res.instance;\n      if (res && res.errors.length) {\n        result.addError({\n          name: 'dependencies',\n          argument: childContext.propertyPath,\n          message: \"does not meet dependency required by \" + childContext.propertyPath,\n        });\n        result.importErrors(res);\n      }\n    }\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is one of the enumerated values.\n *\n * @param instance\n * @param schema\n * @return {ValidatorResult|null}\n */\nvalidators['enum'] = function validateEnum (instance, schema, options, ctx) {\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema['enum'])) {\n    throw new SchemaError(\"enum expects an array\", schema);\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!schema['enum'].some(helpers.deepCompareStrict.bind(null, instance))) {\n    result.addError({\n      name: 'enum',\n      argument: schema['enum'],\n      message: \"is not one of enum values: \" + schema['enum'].map(String).join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance exactly matches a given value\n *\n * @param instance\n * @param schema\n * @return {ValidatorResult|null}\n */\nvalidators['const'] = function validateEnum (instance, schema, options, ctx) {\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!helpers.deepCompareStrict(schema['const'], instance)) {\n    result.addError({\n      name: 'const',\n      argument: schema['const'],\n      message: \"does not exactly match expected constant: \" + schema['const'],\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance if of a prohibited type.\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {null|ValidatorResult}\n */\nvalidators.not = validators.disallow = function validateNot (instance, schema, options, ctx) {\n  var self = this;\n  if(instance===undefined) return null;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var notTypes = schema.not || schema.disallow;\n  if(!notTypes) return null;\n  if(!Array.isArray(notTypes)) notTypes=[notTypes];\n  notTypes.forEach(function (type) {\n    if (self.testType(instance, schema, options, ctx, type)) {\n      var id = type && (type.$id || type.id);\n      var schemaId = id || type;\n      result.addError({\n        name: 'not',\n        argument: schemaId,\n        message: \"is of prohibited type \" + schemaId,\n      });\n    }\n  });\n  return result;\n};\n\nmodule.exports = attribute;\n","\"use strict\";\n\nvar urilib = require('url');\nvar helpers = require('./helpers');\n\nmodule.exports.SchemaScanResult = SchemaScanResult;\nfunction SchemaScanResult(found, ref){\n  this.id = found;\n  this.ref = ref;\n}\n\n/**\n * Adds a schema with a certain urn to the Validator instance.\n * @param string uri\n * @param object schema\n * @return {Object}\n */\nmodule.exports.scan = function scan(base, schema){\n  function scanSchema(baseuri, schema){\n    if(!schema || typeof schema!='object') return;\n    // Mark all referenced schemas so we can tell later which schemas are referred to, but never defined\n    if(schema.$ref){\n      var resolvedUri = urilib.resolve(baseuri, schema.$ref);\n      ref[resolvedUri] = ref[resolvedUri] ? ref[resolvedUri]+1 : 0;\n      return;\n    }\n    var id = schema.$id || schema.id;\n    var ourBase = id ? urilib.resolve(baseuri, id) : baseuri;\n    if (ourBase) {\n      // If there's no fragment, append an empty one\n      if(ourBase.indexOf('#')<0) ourBase += '#';\n      if(found[ourBase]){\n        if(!helpers.deepCompareStrict(found[ourBase], schema)){\n          throw new Error('Schema <'+ourBase+'> already exists with different definition');\n        }\n        return found[ourBase];\n      }\n      found[ourBase] = schema;\n      // strip trailing fragment\n      if(ourBase[ourBase.length-1]=='#'){\n        found[ourBase.substring(0, ourBase.length-1)] = schema;\n      }\n    }\n    scanArray(ourBase+'/items', (Array.isArray(schema.items)?schema.items:[schema.items]));\n    scanArray(ourBase+'/extends', (Array.isArray(schema.extends)?schema.extends:[schema.extends]));\n    scanSchema(ourBase+'/additionalItems', schema.additionalItems);\n    scanObject(ourBase+'/properties', schema.properties);\n    scanSchema(ourBase+'/additionalProperties', schema.additionalProperties);\n    scanObject(ourBase+'/definitions', schema.definitions);\n    scanObject(ourBase+'/patternProperties', schema.patternProperties);\n    scanObject(ourBase+'/dependencies', schema.dependencies);\n    scanArray(ourBase+'/disallow', schema.disallow);\n    scanArray(ourBase+'/allOf', schema.allOf);\n    scanArray(ourBase+'/anyOf', schema.anyOf);\n    scanArray(ourBase+'/oneOf', schema.oneOf);\n    scanSchema(ourBase+'/not', schema.not);\n  }\n  function scanArray(baseuri, schemas){\n    if(!Array.isArray(schemas)) return;\n    for(var i=0; i<schemas.length; i++){\n      scanSchema(baseuri+'/'+i, schemas[i]);\n    }\n  }\n  function scanObject(baseuri, schemas){\n    if(!schemas || typeof schemas!='object') return;\n    for(var p in schemas){\n      scanSchema(baseuri+'/'+p, schemas[p]);\n    }\n  }\n\n  var found = {};\n  var ref = {};\n  scanSchema(base, schema);\n  return new SchemaScanResult(found, ref);\n};\n","'use strict';\n\nvar urilib = require('url');\n\nvar attribute = require('./attribute');\nvar helpers = require('./helpers');\nvar scanSchema = require('./scan').scan;\nvar ValidatorResult = helpers.ValidatorResult;\nvar ValidatorResultError = helpers.ValidatorResultError;\nvar SchemaError = helpers.SchemaError;\nvar SchemaContext = helpers.SchemaContext;\n//var anonymousBase = 'vnd.jsonschema:///';\nvar anonymousBase = '/';\n\n/**\n * Creates a new Validator object\n * @name Validator\n * @constructor\n */\nvar Validator = function Validator () {\n  // Allow a validator instance to override global custom formats or to have their\n  // own custom formats.\n  this.customFormats = Object.create(Validator.prototype.customFormats);\n  this.schemas = {};\n  this.unresolvedRefs = [];\n\n  // Use Object.create to make this extensible without Validator instances stepping on each other's toes.\n  this.types = Object.create(types);\n  this.attributes = Object.create(attribute.validators);\n};\n\n// Allow formats to be registered globally.\nValidator.prototype.customFormats = {};\n\n// Hint at the presence of a property\nValidator.prototype.schemas = null;\nValidator.prototype.types = null;\nValidator.prototype.attributes = null;\nValidator.prototype.unresolvedRefs = null;\n\n/**\n * Adds a schema with a certain urn to the Validator instance.\n * @param schema\n * @param urn\n * @return {Object}\n */\nValidator.prototype.addSchema = function addSchema (schema, base) {\n  var self = this;\n  if (!schema) {\n    return null;\n  }\n  var scan = scanSchema(base||anonymousBase, schema);\n  var ourUri = base || schema.$id || schema.id;\n  for(var uri in scan.id){\n    this.schemas[uri] = scan.id[uri];\n  }\n  for(var uri in scan.ref){\n    // If this schema is already defined, it will be filtered out by the next step\n    this.unresolvedRefs.push(uri);\n  }\n  // Remove newly defined schemas from unresolvedRefs\n  this.unresolvedRefs = this.unresolvedRefs.filter(function(uri){\n    return typeof self.schemas[uri]==='undefined';\n  });\n  return this.schemas[ourUri];\n};\n\nValidator.prototype.addSubSchemaArray = function addSubSchemaArray(baseuri, schemas) {\n  if(!Array.isArray(schemas)) return;\n  for(var i=0; i<schemas.length; i++){\n    this.addSubSchema(baseuri, schemas[i]);\n  }\n};\n\nValidator.prototype.addSubSchemaObject = function addSubSchemaArray(baseuri, schemas) {\n  if(!schemas || typeof schemas!='object') return;\n  for(var p in schemas){\n    this.addSubSchema(baseuri, schemas[p]);\n  }\n};\n\n\n\n/**\n * Sets all the schemas of the Validator instance.\n * @param schemas\n */\nValidator.prototype.setSchemas = function setSchemas (schemas) {\n  this.schemas = schemas;\n};\n\n/**\n * Returns the schema of a certain urn\n * @param urn\n */\nValidator.prototype.getSchema = function getSchema (urn) {\n  return this.schemas[urn];\n};\n\n/**\n * Validates instance against the provided schema\n * @param instance\n * @param schema\n * @param [options]\n * @param [ctx]\n * @return {Array}\n */\nValidator.prototype.validate = function validate (instance, schema, options, ctx) {\n  if((typeof schema !== 'boolean' && typeof schema !== 'object') || schema === null){\n    throw new SchemaError('Expected `schema` to be an object or boolean');\n  }\n  if (!options) {\n    options = {};\n  }\n  // This section indexes subschemas in the provided schema, so they don't need to be added with Validator#addSchema\n  // This will work so long as the function at uri.resolve() will resolve a relative URI to a relative URI\n  var id = schema.$id || schema.id;\n  var base = urilib.resolve(options.base||anonymousBase, id||'');\n  if(!ctx){\n    ctx = new SchemaContext(schema, options, [], base, Object.create(this.schemas));\n    if (!ctx.schemas[base]) {\n      ctx.schemas[base] = schema;\n    }\n    var found = scanSchema(base, schema);\n    for(var n in found.id){\n      var sch = found.id[n];\n      ctx.schemas[n] = sch;\n    }\n  }\n  if(options.required && instance===undefined){\n    var result = new ValidatorResult(instance, schema, options, ctx);\n    result.addError('is required, but is undefined');\n    return result;\n  }\n  var result = this.validateSchema(instance, schema, options, ctx);\n  if (!result) {\n    throw new Error('Result undefined');\n  }else if(options.throwAll && result.errors.length){\n    throw new ValidatorResultError(result);\n  }\n  return result;\n};\n\n/**\n* @param Object schema\n* @return mixed schema uri or false\n*/\nfunction shouldResolve(schema) {\n  var ref = (typeof schema === 'string') ? schema : schema.$ref;\n  if (typeof ref=='string') return ref;\n  return false;\n}\n\n/**\n * Validates an instance against the schema (the actual work horse)\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @private\n * @return {ValidatorResult}\n */\nValidator.prototype.validateSchema = function validateSchema (instance, schema, options, ctx) {\n  var result = new ValidatorResult(instance, schema, options, ctx);\n\n  // Support for the true/false schemas\n  if(typeof schema==='boolean') {\n    if(schema===true){\n      // `true` is always valid\n      schema = {};\n    }else if(schema===false){\n      // `false` is always invalid\n      schema = {type: []};\n    }\n  }else if(!schema){\n    // This might be a string\n    throw new Error(\"schema is undefined\");\n  }\n\n  if (schema['extends']) {\n    if (Array.isArray(schema['extends'])) {\n      var schemaobj = {schema: schema, ctx: ctx};\n      schema['extends'].forEach(this.schemaTraverser.bind(this, schemaobj));\n      schema = schemaobj.schema;\n      schemaobj.schema = null;\n      schemaobj.ctx = null;\n      schemaobj = null;\n    } else {\n      schema = helpers.deepMerge(schema, this.superResolve(schema['extends'], ctx));\n    }\n  }\n\n  // If passed a string argument, load that schema URI\n  var switchSchema = shouldResolve(schema);\n  if (switchSchema) {\n    var resolved = this.resolve(schema, switchSchema, ctx);\n    var subctx = new SchemaContext(resolved.subschema, options, ctx.path, resolved.switchSchema, ctx.schemas);\n    return this.validateSchema(instance, resolved.subschema, options, subctx);\n  }\n\n  var skipAttributes = options && options.skipAttributes || [];\n  // Validate each schema attribute against the instance\n  for (var key in schema) {\n    if (!attribute.ignoreProperties[key] && skipAttributes.indexOf(key) < 0) {\n      var validatorErr = null;\n      var validator = this.attributes[key];\n      if (validator) {\n        validatorErr = validator.call(this, instance, schema, options, ctx);\n      } else if (options.allowUnknownAttributes === false) {\n        // This represents an error with the schema itself, not an invalid instance\n        throw new SchemaError(\"Unsupported attribute: \" + key, schema);\n      }\n      if (validatorErr) {\n        result.importErrors(validatorErr);\n      }\n    }\n  }\n\n  if (typeof options.rewrite == 'function') {\n    var value = options.rewrite.call(this, instance, schema, options, ctx);\n    result.instance = value;\n  }\n  return result;\n};\n\n/**\n* @private\n* @param Object schema\n* @param SchemaContext ctx\n* @returns Object schema or resolved schema\n*/\nValidator.prototype.schemaTraverser = function schemaTraverser (schemaobj, s) {\n  schemaobj.schema = helpers.deepMerge(schemaobj.schema, this.superResolve(s, schemaobj.ctx));\n};\n\n/**\n* @private\n* @param Object schema\n* @param SchemaContext ctx\n* @returns Object schema or resolved schema\n*/\nValidator.prototype.superResolve = function superResolve (schema, ctx) {\n  var ref = shouldResolve(schema);\n  if(ref) {\n    return this.resolve(schema, ref, ctx).subschema;\n  }\n  return schema;\n};\n\n/**\n* @private\n* @param Object schema\n* @param Object switchSchema\n* @param SchemaContext ctx\n* @return Object resolved schemas {subschema:String, switchSchema: String}\n* @throws SchemaError\n*/\nValidator.prototype.resolve = function resolve (schema, switchSchema, ctx) {\n  switchSchema = ctx.resolve(switchSchema);\n  // First see if the schema exists under the provided URI\n  if (ctx.schemas[switchSchema]) {\n    return {subschema: ctx.schemas[switchSchema], switchSchema: switchSchema};\n  }\n  // Else try walking the property pointer\n  var parsed = urilib.parse(switchSchema);\n  var fragment = parsed && parsed.hash;\n  var document = fragment && fragment.length && switchSchema.substr(0, switchSchema.length - fragment.length);\n  if (!document || !ctx.schemas[document]) {\n    throw new SchemaError(\"no such schema <\" + switchSchema + \">\", schema);\n  }\n  var subschema = helpers.objectGetPath(ctx.schemas[document], fragment.substr(1));\n  if(subschema===undefined){\n    throw new SchemaError(\"no such schema \" + fragment + \" located in <\" + document + \">\", schema);\n  }\n  return {subschema: subschema, switchSchema: switchSchema};\n};\n\n/**\n * Tests whether the instance if of a certain type.\n * @private\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @param type\n * @return {boolean}\n */\nValidator.prototype.testType = function validateType (instance, schema, options, ctx, type) {\n  if(type===undefined){\n    return;\n  }else if(type===null){\n    throw new SchemaError('Unexpected null in \"type\" keyword');\n  }\n  if (typeof this.types[type] == 'function') {\n    return this.types[type].call(this, instance);\n  }\n  if (type && typeof type == 'object') {\n    var res = this.validateSchema(instance, type, options, ctx);\n    return res === undefined || !(res && res.errors.length);\n  }\n  // Undefined or properties not on the list are acceptable, same as not being defined\n  return true;\n};\n\nvar types = Validator.prototype.types = {};\ntypes.string = function testString (instance) {\n  return typeof instance == 'string';\n};\ntypes.number = function testNumber (instance) {\n  // isFinite returns false for NaN, Infinity, and -Infinity\n  return typeof instance == 'number' && isFinite(instance);\n};\ntypes.integer = function testInteger (instance) {\n  return (typeof instance == 'number') && instance % 1 === 0;\n};\ntypes.boolean = function testBoolean (instance) {\n  return typeof instance == 'boolean';\n};\ntypes.array = function testArray (instance) {\n  return Array.isArray(instance);\n};\ntypes['null'] = function testNull (instance) {\n  return instance === null;\n};\ntypes.date = function testDate (instance) {\n  return instance instanceof Date;\n};\ntypes.any = function testAny (instance) {\n  return true;\n};\ntypes.object = function testObject (instance) {\n  // TODO: fix this - see #15\n  return instance && (typeof instance === 'object') && !(Array.isArray(instance)) && !(instance instanceof Date);\n};\n\nmodule.exports = Validator;\n","'use strict';\n\nvar Validator = module.exports.Validator = require('./validator');\n\nmodule.exports.ValidatorResult = require('./helpers').ValidatorResult;\nmodule.exports.ValidatorResultError = require('./helpers').ValidatorResultError;\nmodule.exports.ValidationError = require('./helpers').ValidationError;\nmodule.exports.SchemaError = require('./helpers').SchemaError;\nmodule.exports.SchemaScanResult = require('./scan').SchemaScanResult;\nmodule.exports.scan = require('./scan').scan;\n\nmodule.exports.validate = function (instance, schema, options) {\n  var v = new Validator();\n  return v.validate(instance, schema, options);\n};\n","import {Validator} from 'jsonschema'\n\nconst schemaValidator = new Validator()\nexport const evidenceSchema = {\n  id: '/Evidence',\n  type: 'object',\n  properties: {\n    name: {type: 'string'},\n    value: {type: 'string'}\n  },\n  required: ['name', 'value']\n}\nschemaValidator.addSchema(evidenceSchema, '/Evidence')\n\nexport const evidencesSchema = {\n  id: '/Evidences',\n  type: 'array',\n  items: {'$ref': '/Evidence'},\n  minItems: 1\n}\nschemaValidator.addSchema(evidencesSchema, '/Evidences')\n\nexport const extendedEvidencesSchema = {\n  id: '/ExtendedEvidences',\n  oneOf: [\n    {'$ref': '/Evidences'},\n    {\n      type: 'object',\n      patternProperties: {\n        '.+': {type: 'String'}\n      },\n      minProperties: 1\n    }\n  ]\n}\nschemaValidator.addSchema(extendedEvidencesSchema, '/ExtendedEvidences')\n\nexport const instanceSchema = {\n  id: '/Instance',\n  type: 'object',\n  properties: {\n    className: {type: 'string'},\n    propertyName: {type: 'string'},\n    value: {type: 'any'},\n    dependencyContext: {\n      type: 'object',\n      properties: {\n        evidences: {'$ref': '/Evidences'}\n      }\n    }\n  },\n  required: ['className', 'propertyName', 'value']\n}\nschemaValidator.addSchema(instanceSchema, '/Instance')\n\nexport const inputInstancesSchema = {\n  id: '/InputInstances',\n  type: 'array',\n  items: {\n    type: 'object',\n    properties: {\n      className: {type: 'string'},\n      propertyName: {type: 'string'},\n      value: {type: 'any'}\n    },\n    required: ['className', 'propertyName'],\n    minItems: 1\n  }\n}\nschemaValidator.addSchema(inputInstancesSchema, '/InputInstances')\n\nexport const instancesSchema = {\n  id: '/Instances',\n  type: 'array',\n  items: {'$ref': '/Instance'},\n  minItems: 1\n}\nschemaValidator.addSchema(instancesSchema, '/Instances')\n\nexport const contextSchema = {\n  id: '/Context',\n  type: 'object',\n  properties: {\n    guid: {type: 'string'},\n    evidences: {'$ref': '/Evidences'}\n  },\n  required: ['guid', 'evidences']\n}\nschemaValidator.addSchema(contextSchema, '/Context')\n\nexport const inputContextSchema = {\n  id: '/InputContext',\n  type: 'object',\n  properties: {\n    evidences: {'$ref': '/ExtendedEvidences'}\n  },\n  required: ['evidences']\n}\nschemaValidator.addSchema(inputContextSchema, '/InputContext')\n\n\nexport const rightsContextsSchema = {\n  id: '/RightsContexts',\n  type: 'Array',\n  items: {'$ref': '/Context'},\n  minItems: 1\n}\nschemaValidator.addSchema(rightsContextsSchema, '/RightsContexts')\n\nexport const processingContextsSchema = {\n  id: '/ProcessingContexts',\n  type: 'Array',\n  items: {'$ref': '/Context'},\n  minItems: 0\n}\nschemaValidator.addSchema(processingContextsSchema, '/ProcessingContexts')\n\nexport const requestsSchema = {\n  id: '/Requests',\n  type: 'Array',\n  items: {\n    type: 'object',\n    properties: {\n      guid: {type: 'string'},\n      rightsContext: {type: 'string'},\n      processingContext: {type: 'string'},\n      instances: {'$ref': '/Instances'}\n    },\n    required: ['guid', 'rightsContext', 'instances']\n  },\n  minItems: 1\n}\nschemaValidator.addSchema(requestsSchema, '/Requests')\n\nexport const requestDataSchema = {\n  id: 'RequestData',\n  type: 'object',\n  properties: {\n    processingContexts: {'$ref': '/ProcessingContexts'},\n    rightsContexts: {'$ref': '/RightsContexts'},\n    requests: {'$ref': '/Requests'}\n  },\n  required: ['rightsContexts', 'requests']\n}\nschemaValidator.addSchema(requestDataSchema, '/RequestData')\n\nexport const requestInputDataSchema = {\n  id: 'RequestInputData',\n  type: 'object',\n  properties: {\n    processingContext: {'$ref': '/InputContext'},\n    rightsContext: {'$ref': '/InputContext'},\n    instances: {'$ref': 'InputInstances'}\n  },\n  required: ['rightsContext', 'instances']\n}\nschemaValidator.addSchema(requestInputDataSchema, '/RequestInputData')\n\nexport default schemaValidator\n","class Validator {\n  constructor (rules) {\n    this.rules = rules\n    this.errors = []\n  }\n\n  validate () {\n    this.errors = this.rules\n      .filter(({rule}) => !rule)\n      .map(({message}) => message)\n\n    return this.errors.length === 0\n  }\n\n  validateWithThrowError () {\n    const isValid = this.validate()\n    const error = this.errors.join('\\r\\n')\n\n    if (!isValid) {\n      throw new Error(error)\n    } else {\n      return isValid\n    }\n  }\n}\n\nexport default Validator\n","import schemaValidator from './schemes'\nimport Validator from './Validator'\n\nclass RPSEvidence {\n  /**\n   * Evidence class\n   *\n   * @param {object} evidence - {name: 'name', value: 'value}\n   * @param {string} evidence.name - evidence name\n   * @param {string} evidence.value - evidence value\n   */\n  constructor ({name, value}) {\n    RPSEvidence.validateEvidence({name, value})\n    this.name = name\n    this.value = value\n  }\n\n  static validateEvidence (evidence, throwError = true) {\n    const result = schemaValidator.validate(evidence, {$ref: '/Evidence'})\n\n    const validator = new Validator([\n      {\n        rule: result.valid,\n        message: `Invalid \"evidence\" format/structure`\n      }\n    ])\n\n    return !throwError ? validator.validate() : validator.validateWithThrowError()\n  }\n}\n\nexport default RPSEvidence\n","export const isObject = (object) => object != null && typeof object === 'object'\n\nexport const deepEqual = (object1, object2) => {\n  const keys1 = Object.keys(object1)\n  const keys2 = Object.keys(object2)\n\n  if (keys1.length !== keys2.length) {\n    return false\n  }\n\n  for (const key of keys1) {\n    const val1 = object1[key]\n    const val2 = object2[key]\n    const areObjects = isObject(val1) && isObject(val2)\n\n    if ((areObjects && !deepEqual(val1, val2)) || (!areObjects && val1 !== val2)) {\n      return false\n    }\n  }\n\n  return true\n}\n\nexport const makeDictionary = (arr, keyProp, valueProp) => {\n  return arr.reduce((acc, item) => ({...acc, [item[keyProp]]: item[valueProp]}), {})\n}\n\nexport const makeArrayFromDictionary = (dictionary = {}, keyProp = 'name', valueProp = 'value') => {\n  return Object.entries(dictionary)\n    .reduce((acc, [key, value]) => [...acc, {[keyProp]: key, [valueProp]: value}], [])\n}\n\n","import {isObject} from './utils'\nimport Validator from './Validator'\nimport schemaValidator from './schemes'\n\nclass RPSValue {\n  /**\n   * RPSValue class\n   *\n   * @param {string} className - required\n   * @param {string} propertyName - required\n   * @param {*} value - required, can be empty, but undefined is not valid\n   * @param {object} dependencies - not required, e.g. {name: 'value', name2: 'value2'}\n   *\n   */\n  constructor ({className, propertyName, value, dependencies = null} = {}) {\n    RPSValue.validateValue({className, propertyName, value})\n\n    this.className = className\n    this.propertyName = propertyName\n    this.value = value\n    this.dependencies = isObject(dependencies) ? dependencies : null\n    this.error = null\n    this.transformed = null\n  }\n\n  get original () {\n    return this.value\n  }\n\n  setError (error) {\n    this.error = error\n  }\n\n  setTransformedValue (transformedValue) {\n    this.transformed = transformedValue\n  }\n\n  static validateValue (params, throwError = true) {\n    const {className, propertyName, value} = params\n\n    const result = schemaValidator.validate(params, {$ref: '/Instance'})\n\n    const validator = new Validator([\n      {\n        rule: !!className,\n        message: `Required property \"className\" is missing or empty`\n      },\n      {\n        rule: !!propertyName,\n        message: `Required property \"propertyName\" is missing or empty`\n      },\n      {\n        rule: typeof value !== 'undefined',\n        message: `Required property \"value\" is undefined`\n      },\n      {\n        rule: result.valid,\n        message: `Invalid \"requestData\" format/structure`\n      }\n    ])\n\n    return !throwError ? validator.validate() : validator.validateWithThrowError()\n  }\n}\n\nexport default RPSValue\n","import schemaValidator from './schemes'\nimport Validator from './Validator'\n\nclass RPSContext {\n  /**\n   * Context class with evidences as dictionary or list\n   *\n   * @param {object|object[]} evidences - Array of evidences like [{name: 'name', value: 'value}] or dictionary like {name: value}\n   */\n  constructor (evidences) {\n    RPSContext.validateEvidences(evidences)\n    this.evidences = evidences\n  }\n\n  static validateEvidences (evidences, throwError = true) {\n    const result = schemaValidator.validate(evidences, {$ref: '/ExtendedEvidences'})\n\n    const validator = new Validator([\n      {\n        rule: !!evidences,\n        message: `Required parameter \"evidences\" is missing`\n      },\n      {\n        rule: result.valid,\n        message: `Invalid \"evidences\" format/structure`\n      }\n    ])\n\n    return !throwError ? validator.validate() : validator.validateWithThrowError()\n  }\n}\n\nexport default RPSContext\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    var proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    var copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        Buffer.from(buf).copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (var i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nvar hexSliceLookupTable = (function () {\n  var alphabet = '0123456789abcdef'\n  var table = new Array(256)\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var _globalThis = function (Object) {\n  function get() {\n    var _global = this || self;\n\n    delete Object.prototype.__magic__;\n    return _global;\n  }\n\n  if (typeof globalThis === \"object\") {\n    return globalThis;\n  }\n\n  if (this) {\n    return get();\n  } else {\n    Object.defineProperty(Object.prototype, \"__magic__\", {\n      configurable: true,\n      get: get\n    });\n    var _global = __magic__;\n    return _global;\n  }\n}(Object);\n\nimport { Buffer } from 'buffer';\nimport process from 'process';\nvar _global = _globalThis;\nexport { Buffer, process, _global as global };\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar defaults = require('../defaults');\nvar Cancel = require('../cancel/Cancel');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n    var onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      var transitional = config.transitional || defaults.transitional;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = function(cancel) {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || (cancel && cancel.type) ? new Cancel('canceled') : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\nvar enhanceError = require('./core/enhanceError');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: {\n    silentJSONParsing: true,\n    forcedJSONParsing: true,\n    clarifyTimeoutError: false\n  },\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional || defaults.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*'\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('./../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar Cancel = require('../cancel/Cancel');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new Cancel('canceled');\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(prop) {\n    if (prop in config2) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  var mergeMap = {\n    'url': valueFromConfig2,\n    'method': valueFromConfig2,\n    'data': valueFromConfig2,\n    'baseURL': defaultToConfig2,\n    'transformRequest': defaultToConfig2,\n    'transformResponse': defaultToConfig2,\n    'paramsSerializer': defaultToConfig2,\n    'timeout': defaultToConfig2,\n    'timeoutMessage': defaultToConfig2,\n    'withCredentials': defaultToConfig2,\n    'adapter': defaultToConfig2,\n    'responseType': defaultToConfig2,\n    'xsrfCookieName': defaultToConfig2,\n    'xsrfHeaderName': defaultToConfig2,\n    'onUploadProgress': defaultToConfig2,\n    'onDownloadProgress': defaultToConfig2,\n    'decompress': defaultToConfig2,\n    'maxContentLength': defaultToConfig2,\n    'maxBodyLength': defaultToConfig2,\n    'transport': defaultToConfig2,\n    'httpAgent': defaultToConfig2,\n    'httpsAgent': defaultToConfig2,\n    'cancelToken': defaultToConfig2,\n    'socketPath': defaultToConfig2,\n    'responseEncoding': defaultToConfig2,\n    'validateStatus': mergeDirectKeys\n  };\n\n  utils.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {\n    var merge = mergeMap[prop] || mergeDeepProperties;\n    var configValue = merge(prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n};\n","module.exports = {\n  \"version\": \"0.23.0\"\n};","'use strict';\n\nvar VERSION = require('../env/data').version;\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')));\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  assertOptions: assertOptions,\n  validators: validators\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean),\n      forcedJSONParsing: validators.transitional(validators.boolean),\n      clarifyTimeoutError: validators.transitional(validators.boolean)\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n\n  // eslint-disable-next-line func-names\n  this.promise.then(function(cancel) {\n    if (!token._listeners) return;\n\n    var i;\n    var l = token._listeners.length;\n\n    for (i = 0; i < l; i++) {\n      token._listeners[i](cancel);\n    }\n    token._listeners = null;\n  });\n\n  // eslint-disable-next-line func-names\n  this.promise.then = function(onfulfilled) {\n    var _resolve;\n    // eslint-disable-next-line func-names\n    var promise = new Promise(function(resolve) {\n      token.subscribe(resolve);\n      _resolve = resolve;\n    }).then(onfulfilled);\n\n    promise.cancel = function reject() {\n      token.unsubscribe(_resolve);\n    };\n\n    return promise;\n  };\n\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Subscribe to the cancel signal\n */\n\nCancelToken.prototype.subscribe = function subscribe(listener) {\n  if (this.reason) {\n    listener(this.reason);\n    return;\n  }\n\n  if (this._listeners) {\n    this._listeners.push(listener);\n  } else {\n    this._listeners = [listener];\n  }\n};\n\n/**\n * Unsubscribe from the cancel signal\n */\n\nCancelToken.prototype.unsubscribe = function unsubscribe(listener) {\n  if (!this._listeners) {\n    return;\n  }\n  var index = this._listeners.indexOf(listener);\n  if (index !== -1) {\n    this._listeners.splice(index, 1);\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\naxios.VERSION = require('./env/data').version;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","module.exports = require('./lib/axios');","import axios from 'axios'\n\nclass HttpClientCreator {\n  /**\n   * Generates new axios client with interceptors\n   *\n   * @param {object} config - axios config\n   * @param {function} errorHandler - custom error handler\n   *\n   */\n  constructor ({config = {}, errorHandler = () => {}}) {\n    this.config = config\n    this.axiosClient = null\n    this.errorHandler = errorHandler\n  }\n\n  create () {\n    this.axiosClient = axios.create(this.config)\n\n    this.#setInterceptors(this.axiosClient)\n    return this.axiosClient\n  }\n\n  #setInterceptors = httpClient => {\n    httpClient.interceptors.request.use(HttpClientCreator.#startTimeInterceptor)\n    httpClient.interceptors.request.use(HttpClientCreator.#loggerInterceptor)\n    httpClient.interceptors.response.use(\n      response => HttpClientCreator.#addDurationInterceptor(response, 'success'),\n      error => HttpClientCreator.#addDurationInterceptor(error, 'error')\n    )\n\n    httpClient.interceptors.request.use(config => config, this.#errorHandlerInterceptor)\n    httpClient.interceptors.response.use(response => response, this.#errorHandlerInterceptor)\n  }\n\n  #errorHandlerInterceptor = error => {\n    const errorFullInfo = error || {}\n    const errorResponse = errorFullInfo.response || {}\n    const errorData = {...errorFullInfo, ...errorResponse.data, status: errorResponse.status}\n\n    this.errorHandler(errorData)\n\n    return Promise.reject(errorData)\n  }\n\n  static #startTimeInterceptor = config => ({...config, metadata: {startTime: new Date()}})\n\n  static #addDurationInterceptor = (resOrErr, type = 'success') => {\n    resOrErr.config.metadata.endTime = new Date()\n    resOrErr.duration = resOrErr.config.metadata.endTime - resOrErr.config.metadata.startTime\n\n    return type === 'success' ? resOrErr : Promise.reject(resOrErr)\n  }\n\n  static #loggerInterceptor = config => config\n}\n\nexport default HttpClientCreator\n","import HttpClientCreator from './HttpClientCreator'\nimport Validator from './Validator'\n\nclass TokenProvider {\n  #httpClient\n  #clientSecret\n\n  /**\n   * TokenProvider class\n   *\n   * @param {object} params - an object with all data necessary to init TokenProvider, required\n   * @param {string} params.identityServerHostName - authorization hostname, required\n   * @param {string} params.clientId - configuration clientId, not required, but then must be passed into \"generateToken(secrets)\" or \"getToken(secrets)\"\n   * @param {string} params.clientSecret - configuration clientSecret, not required, but then must be passed into \"generateToken(secrets)\" or \"getToken(secrets)\"\n   * @param {string} params.token - token, not required\n   * @param {string} params.tokenType - tokenType, not required\n   * @param {string} params.authEndpoint - authorization endpoint, not required, default value: 'connect/token'\n   *\n   */\n\n  constructor ({\n                 identityServerHostName,\n                 clientId,\n                 clientSecret,\n                 token,\n                 tokenType,\n                 authEndpoint = 'connect/token'\n               } = {}) {\n    const config = {\n      baseURL: identityServerHostName,\n      json: true\n    }\n    this._validateTokenProvider(identityServerHostName)\n\n    this.authEndpoint = authEndpoint\n\n    this.token = token\n    this.tokenType = tokenType\n\n    this.#httpClient = new HttpClientCreator({config}).create()\n\n    this.clientId = clientId\n    this.#clientSecret = clientSecret\n  }\n\n  get isAuthorized () {\n    const {tokenType, token} = this\n    return tokenType && token\n  }\n\n  get _data () {\n    return `grant_type=client_credentials&client_id=${this.clientId}&client_secret=${this.#clientSecret}`\n  }\n\n  async getToken (secrets) {\n    if (this.isAuthorized) {\n      const {tokenType, token} = this\n      return {tokenType, token}\n    } else {\n      return this.generateToken(secrets)\n    }\n  }\n\n  async generateToken (secrets) {\n    if (!!secrets) this._setSecrets(secrets)\n    try {\n      this._validateGenerateToken(this)\n\n      const response = await this.#httpClient.post(this.authEndpoint, this._data)\n\n      const tokenInfo = this._parseTokenInfo(response?.data)\n\n      this._setTokenInfo(tokenInfo)\n\n      return tokenInfo\n    } catch (e) {\n      return Promise.reject(e)\n    }\n  }\n\n  _parseTokenInfo (tokenInfo) {\n    const {\n      access_token,\n      token,\n      expires_in,\n      expiresIn,\n      token_type,\n      tokenType,\n      scope\n    } = tokenInfo || {}\n\n    return {\n      token: token || access_token,\n      expiresIn: expiresIn || expires_in,\n      tokenType: tokenType || token_type,\n      scope\n    }\n  }\n\n  _setTokenInfo (tokenInfo) {\n    const {token, tokenType} = tokenInfo\n\n    this.token = token\n    this.tokenType = tokenType\n  }\n\n  clearTokenInfo () {\n    this.token = undefined\n    this.tokenType = undefined\n  }\n\n  _setSecrets ({clientSecret, clientId} = {}) {\n    if (clientId) this.clientId = clientId\n    if (clientSecret) this.#clientSecret = clientSecret\n  }\n\n  _validateTokenProvider (identityServerHostName) {\n    const validator = new Validator([\n      {\n        rule: !!identityServerHostName,\n        message: `\"identityServerHostName\" is required field, must be defined`\n      }\n    ])\n\n    validator.validateWithThrowError()\n  }\n\n  _validateGenerateToken (secrets) {\n    const validator = new Validator([\n      {\n        rule: !!secrets.clientId,\n        message: `\"clientId\" is required field, must be defined`\n      },\n      {\n        rule: !!secrets.#clientSecret,\n        message: `\"clientSecret\" is required field, must be defined`\n      }\n    ])\n\n    validator.validateWithThrowError()\n  }\n}\n\nexport default TokenProvider\n","import TokenProvider from './TokenProvider'\nimport HttpClientCreator from './HttpClientCreator'\nimport Validator from './Validator'\nimport schemaValidator from './schemes'\n\nclass EngineClient {\n  #httpClient\n  #tokenProvider\n  #returnOriginalResponse = false\n  #secondAttempt = false\n\n  /**\n   * EngineClient class\n   *\n   * @param {object} config - axios config, 'baseURL' property is required\n   * @param {string} config.baseURL - Engine hostname, required\n   * @param {function} errorHandler - custom error handler, not required\n   * @param {boolean} returnOriginalResponse - if true, the original response will be returned by default, not required, default value: false\n   * @param {TokenProvider} tokenProvider - external TokenProvider, not required if \"authorizationParams\" defined\n   * @param {object} authorizationParams - params for build-in TokenProvider, not required if \"tokenProvider\" defined\n   * @param {string} authorizationParams.identityServerHostName - authorization hostname, required\n   * @param {string} authorizationParams.clientId - configuration clientId, not required, but then must be passed into \"transform(requestsData, secrets)\"\n   * @param {string} authorizationParams.clientSecret - configuration clientSecret, not required, but then must be passed into \"transform(requestsData, secrets)\"\n   * @param {string} authorizationParams.token - token, not required\n   * @param {string} authorizationParams.tokenType - tokenType, not required\n   * @param {string} authorizationParams.authEndpoint - authorization endpoint, not required, default value: 'connect/token'*\n   */\n  constructor ({\n                 config = {baseURL: '', json: true},\n                 returnOriginalResponse = false,\n                 errorHandler = () => {},\n                 tokenProvider,\n                 authorizationParams\n               } = {}) {\n    EngineClient.#validateClient({config, tokenProvider, authorizationParams})\n\n    this.#returnOriginalResponse = returnOriginalResponse\n    this.#tokenProvider = tokenProvider instanceof TokenProvider ? tokenProvider : new TokenProvider(authorizationParams)\n    this.#httpClient = new HttpClientCreator({\n      config,\n      errorHandler\n    }).create()\n  }\n\n  async transformPostRequest (requestData, tokenInfo) {\n    const headers = EngineClient.#genHeaders(tokenInfo)\n\n    return this.#httpClient.post('api/transform', requestData, {headers})\n  }\n\n  /**\n   * Transform request data\n   *\n   * @param {object} requestData - request data object, built with RequestBuilder\n   * @param {{returnOriginal: boolean}} config - optional config of transform\n   * @param {object} config.secrets - configuration secrets\n   * @param {string} config.secrets.clientId - configuration clientId\n   * @param {string} config.secrets.clientSecret - configuration clientSecret\n   * @param {boolean} config.returnOriginal - if true, the original response will be returned\n   *\n   */\n\n  async transform (requestData, config = {}) {\n    const {secrets = null, returnOriginal = false} = config || {}\n    try {\n      EngineClient.#validateRequest(requestData)\n\n      const tokenInfo = await this.#tokenProvider.getToken(secrets)\n      const originalResponse = await this.transformPostRequest(requestData, tokenInfo)\n\n      this.#secondAttempt = false\n\n      return (this.#returnOriginalResponse || returnOriginal)\n        ? originalResponse\n        : EngineClient.#processResponse(originalResponse, requestData)\n    } catch (error) {\n      return this.#handleErrors(error, requestData, config)\n    }\n  }\n\n  #handleErrors (error, requestData, config) {\n    if (error.status === 401 && !this.#secondAttempt) {\n      this.#secondAttempt = true\n      this.#tokenProvider.clearTokenInfo()\n      return this.transform(requestData, config)\n    } else {\n      this.#secondAttempt = false\n      return Promise.reject(error)\n    }\n  }\n\n  static #validateClient ({tokenProvider, config, authorizationParams}) {\n    const validator = new Validator([\n      {\n        rule: !!config?.baseURL,\n        message: `\"config.baseURL\" is required field, must be defined`\n      },\n      {\n        rule: tokenProvider instanceof TokenProvider || !!authorizationParams?.identityServerHostName,\n        message: `For external TokenProvider \"tokenProvider\" must be defined as instance of TokenProvider;\n        For build-in TokenProvider \"authorizationParams.identityServerHostName\" is required field.`\n      }\n    ])\n\n    validator.validateWithThrowError()\n  }\n\n  static #validateReferences (requestData) {\n    const {requests = [], processingContexts = [], rightsContexts = []} = requestData || {}\n    const checkReference = (contexts, guid) => contexts.find(c => c.guid === guid)\n\n    const isValid = Array.isArray(requests) && requests.every(({processingContext, rightsContext}) => {\n      return (typeof processingContext === 'undefined' || checkReference(processingContexts, processingContext)) &&\n        checkReference(rightsContexts, rightsContext)\n    })\n\n    const validator = new Validator([{\n      rule: isValid,\n      message: `\"requestData\" contains requests with invalid processing/rights context references`\n    }])\n    validator.validateWithThrowError()\n  }\n\n  static #validateSchema (requestData) {\n    const result = schemaValidator.validate(requestData, {$ref: '/RequestData'})\n\n    const validator = new Validator([\n      {\n        rule: result.valid,\n        message: `Invalid \"requestData\" format/structure`\n      }\n    ])\n\n    validator.validateWithThrowError()\n  }\n\n  static #validateRequest (requestData) {\n    EngineClient.#validateSchema(requestData)\n    EngineClient.#validateReferences(requestData)\n  }\n\n  static #genHeaders ({tokenType, token}) {\n    return {\n      'Content-Type': 'application/json',\n      'Authorization': `${tokenType} ${token}`\n    }\n  }\n\n  static #processResponse (originalResponse, requestData) {\n    const {responses = []} = originalResponse?.data || {}\n    const processedResponses = responses.map((response) => {\n      const request = requestData.requests.find(({guid}) => guid === response.request)\n      return {\n        ...response,\n        instances: response.instances.map(({className, propertyName, value: transformed, error}, instanceIndex) => {\n          const baseInstance = {className, propertyName, transformed, original: request.instances[instanceIndex].value}\n          return !!error ? {...baseInstance, error} : baseInstance\n        })\n      }\n    })\n\n    return {\n      ...originalResponse,\n      data: {\n        responses: processedResponses\n      }\n    }\n  }\n}\n\nexport default EngineClient\n","import {v4 as uuidv4} from 'uuid'\nimport Validator from './Validator'\nimport RPSValue from './RpsValue'\nimport {deepEqual, isObject, makeArrayFromDictionary, makeDictionary} from './utils'\nimport schemaValidator from './schemes'\n\nclass RequestBuilder {\n  constructor () {\n    this.rightsContextsDictionary = {}\n    this.processingContextsDictionary = {}\n    this.requests = []\n  }\n\n  get rightsContexts () {\n    return RequestBuilder.#buildContextsStructure(this.rightsContextsDictionary)\n  }\n\n  get processingContexts () {\n    return RequestBuilder.#buildContextsStructure(this.processingContextsDictionary)\n  }\n\n  /**\n   * Generates a Request\n   *\n   * @param {object[]} instances - Array of instances: [{className: 'className', propertyName: 'propertyName', value: 'value', dependencies(optional): {name: 'value'}}]\n   * @param {object} rightsContext - Object of rightsContext with evidences: {evidences: {name: 'value'}}]\n   * @param {object|undefined} processingContext - Object of processingContext with evidences: {evidences: {name: 'value'}}]\n   *\n   */\n  addRequest ({instances, rightsContext, processingContext}) {\n    RequestBuilder.#validateRequest({instances, rightsContext, processingContext})\n\n    const rightsContextKey = this.#getOrAddContextKey('rights', rightsContext)\n    const processingContextKey = processingContext ? this.#getOrAddContextKey('processing', processingContext) : undefined\n    const processedInstances = RequestBuilder.#processInstances(instances)\n\n    const existingRequest = this.requests.find(r => {\n      return r.rightsContext === rightsContextKey && r.processingContext === processingContextKey\n    })\n\n    if (!existingRequest) {\n      this.requests.push({\n        guid: uuidv4(),\n        rightsContext: rightsContextKey,\n        processingContext: processingContextKey,\n        instances: processedInstances\n      })\n    } else {\n      existingRequest.instances = [...existingRequest.instances, ...processedInstances]\n    }\n\n    return this\n  }\n\n  build () {\n    RequestBuilder.#validateBuild(this)\n\n    const {rightsContexts, processingContexts, requests} = this\n    return {rightsContexts, processingContexts, requests}\n  }\n\n  #getOrAddContextKey (type, context) {\n    const processedEvidences = RequestBuilder.#processEvidences(type, context?.evidences)\n    const contexts = this[`${type}ContextsDictionary`]\n\n    const existingContext = Object\n      .entries(contexts)\n      .find(([guid, evidences]) => deepEqual(processedEvidences, evidences))\n\n    const guid = !existingContext ? uuidv4() : existingContext[0]\n\n    if (!existingContext) contexts[guid] = processedEvidences\n\n    return guid\n  }\n\n  static #buildEvidencesStructure (evidences) {\n    return makeArrayFromDictionary(evidences)\n  }\n\n  static #buildContextsStructure (contextsDictionary) {\n    return Object.entries(contextsDictionary).reduce((acc, [guid, evidences]) => {\n      return [...acc, {guid, evidences: RequestBuilder.#buildEvidencesStructure(evidences)}]\n    }, [])\n  }\n\n  static #processEvidences (type, evidences) {\n    if (Array.isArray(evidences) && evidences.length > 0) {\n      return makeDictionary(evidences, 'name', 'value')\n    } else if (isObject(evidences) && Object.keys(evidences).length > 0) {\n      return evidences\n    } else {\n      throw new Error(`Empty evidences or invalid evidences structure in \"${type}Context\"`)\n    }\n  }\n\n  static #getDependencyContext ({dependencyContext: context, evidences, dependencies}) {\n    const trueContext = context || evidences || dependencies\n\n    if (!trueContext) {\n      return null\n    } else if (Array.isArray(trueContext) && trueContext.length > 0) {\n      return {evidences: trueContext}\n    } else if (isObject(trueContext) && Object.keys(trueContext).length > 0) {\n      if (!!trueContext.evidences && (Array.isArray(trueContext.evidences) || isObject(trueContext.evidences))) {\n        return RequestBuilder.#getDependencyContext(trueContext)\n      } else {\n        return {evidences: makeArrayFromDictionary(trueContext)}\n      }\n    } else {\n      return null\n    }\n  }\n\n  static #validateRequest (requestInputData) {\n    const result = schemaValidator.validate(requestInputData, {$ref: '/RequestInputData'})\n\n    const validator = new Validator([\n      {\n        rule: result.valid,\n        message: `Invalid format/structure of input params`\n      }\n    ])\n\n    validator.validateWithThrowError()\n  }\n\n  static #processInstances (instances) {\n    RequestBuilder.#validateInstances(instances)\n\n    return instances\n      .filter(({value}) => typeof value !== 'undefined')\n      .map(instance => {\n        const {className, propertyName, value} = instance\n        const dependencyContext = RequestBuilder.#getDependencyContext(instance)\n        const baseInstance = {className, propertyName, value}\n        const instanceWithDependencyContext = {...baseInstance, dependencyContext}\n\n        return dependencyContext ? instanceWithDependencyContext : baseInstance\n      })\n  }\n\n  static #validateInstances (instances) {\n    const validator = new Validator([\n      {\n        rule: instances.some(instance => RPSValue.validateValue(instance)),\n        message: `Must be at least one valid instance object in \"instances\"`\n      }\n    ])\n    validator.validateWithThrowError()\n  }\n\n  static #validateBuild ({rightsContexts, requests}) {\n    const validator = new Validator([\n      {\n        rule: requests.length > 0,\n        message: `Use \"addRequest\" method for generating request`\n      },\n      {\n        rule: rightsContexts.length > 0,\n        message: `\"rightsContexts\" is empty`\n      }\n    ])\n\n    validator.validateWithThrowError()\n  }\n}\n\nexport default RequestBuilder\n"],"names":["root","freeExports","exports","freeModule","module","freeGlobal","global","punycode","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","errors","baseMinusTMin","floor","stringFromCharCode","key","error","type","map","array","fn","length","result","mapDomain","string","parts","labels","encoded","ucs2decode","output","counter","value","extra","ucs2encode","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","k","decode","input","inputLength","out","i","n","bias","basic","j","index","oldi","w","t","baseMinusT","encode","handledCPCount","basicLength","m","q","currentValue","handledCPCountPlusOne","qMinusT","toUnicode","toASCII","this","hasOwnProperty","obj","prop","qs","sep","eq","options","regexp","maxKeys","len","x","idx","kstr","vstr","v","isArray","xs","stringifyPrimitive","name","objectKeys","ks","f","res","querystringEs3","require$$0","require$$1","qsEscape","qsUnescape","api","require$$2","require$$3","_interopDefaultLegacy","e","require$$0__default","require$$2__default","util$1","arg","util","parse","urlParse","resolve$1","urlResolve","resolveObject","urlResolveObject","format","urlFormat","Url_1","Url","protocolPattern","portPattern","simplePathPattern","delims","unwise","autoEscape","nonHostChars","hostEndingChars","hostnameMaxLen","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","querystring","url","parseQueryString","slashesDenoteHost","u","queryIndex","splitter","uSplit","slashRegex","rest","simplePath","proto","lowerProto","slashes","hostEnd","hec","auth","atSign","ipv6Hostname","hostparts","l","part","newpart","validParts","notHost","bit","p","h","ae","esc","hash","qm","s","protocol","pathname","host","query","search","match","source","relative","rel","tkeys","tk","tkey","rkeys","rk","rkey","keys","relPath","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","authInHost","last","hasTrailingSlash","up","isAbsolute","port","normalizeArray","allowAboveRoot","resolve","resolvedPath","resolvedAbsolute","path","filter","_globalThis","Object","get","_global","formatImport","parseImport","resolveImport","UrlImport","URL","URLSearchParams","percentRegEx","backslashRegEx","newlineRegEx","carriageReturnRegEx","tabRegEx","CHAR_FORWARD_SLASH","isURLInstance","instance","resolved","getPathFromURLPosix","third","encodePathChars","filepath","domainToASCII","domain","domainToUnicode","pathToFileURL","outURL","filePathLast","fileURLToPath","formatImportWithOverloads","urlObject","_options$auth","_options$fragment","_options$search","fragment","parsed","uri","ValidationError","helpers","message","schema","argument","sum","item","makeSuffix","id","ValidatorResult","ctx","detail","err","ValidatorResultError","stringizer","SchemaError","msg","SchemaContext","schemas","target","propertyName","FORMAT_REGEXPS","validator","deepCompareStrict","a","b","aKeys","bKeys","deepMerger","dst","deepMerge","copyist","src","copyistWithDeepMerge","o","pathEncoder","number","decimalPlaces","decimalParts","val","attribute","validators","types","list","testSchemaNoThrow","callback","throwError","throwAll","inner","self","valid","count","ifValid","getEnumerableProperty","object","subschema","property","properties","testAdditionalProperty","additionalProperties","patternProperties","test","pattern","items","validateMultipleOfOrDivisbleBy","validationType","errorMessage","validationArgument","instanceDecimals","divisorDecimals","maxDecimals","multiplier","hsp","testArrays","dep","childContext","notTypes","schemaId","attribute_1","urilib","scan","SchemaScanResult","found","ref","scanSchema","baseuri","resolvedUri","ourBase","scanArray","scanObject","anonymousBase","Validator","ourUri","urn","sch","shouldResolve","schemaobj","switchSchema","subctx","skipAttributes","validatorErr","document","Validator_1","schemaValidator","evidenceSchema","evidencesSchema","extendedEvidencesSchema","instanceSchema","inputInstancesSchema","instancesSchema","contextSchema","inputContextSchema","rightsContextsSchema","processingContextsSchema","requestsSchema","requestDataSchema","requestInputDataSchema","rules","rule","isValid","RPSEvidence","evidence","isObject","deepEqual","object1","object2","keys1","keys2","val1","val2","areObjects","makeDictionary","arr","keyProp","valueProp","acc","makeArrayFromDictionary","dictionary","RPSValue","className","dependencies","transformedValue","params","RPSContext","evidences","bind","thisArg","args","toString","isUndefined","isBuffer","isArrayBuffer","isFormData","isArrayBufferView","isString","isNumber","isPlainObject","prototype","isDate","isFile","isBlob","isFunction","isStream","isURLSearchParams","trim","str","isStandardBrowserEnv","forEach","merge","assignValue","extend","stripBOM","content","utils","buildURL","paramsSerializer","serializedParams","hashmarkIndex","InterceptorManager","fulfilled","rejected","InterceptorManager_1","base64Js","byteLength","toByteArray","fromByteArray","lookup","revLookup","Arr","code","getLens","b64","validLen","placeHoldersLen","lens","_byteLength","tmp","curByte","tripletToBase64","num","encodeChunk","uint8","start","end","extraBytes","maxChunkLength","len2","ieee754","buffer","offset","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","d","c","rt","base64","customInspectSymbol","Buffer","SlowBuffer","K_MAX_LENGTH","typedArraySupport","createBuffer","buf","encodingOrOffset","allocUnsafe","from","fromString","fromArrayView","isInstance","fromArrayBuffer","valueOf","fromObject","assertSize","size","alloc","fill","encoding","checked","actual","fromArrayLike","arrayView","copy","byteOffset","numberIsNaN","y","pos","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","max","thisStart","thisEnd","thisCopy","targetCopy","bidirectionalIndexOf","dir","arrayIndexOf","indexSize","arrLength","valLength","read","foundIndex","hexWrite","remaining","strLen","utf8Write","blitBuffer","asciiWrite","asciiToBytes","base64Write","ucs2Write","utf16leToBytes","firstByte","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","codePoints","ret","hexSliceLookupTable","bytes","newBuf","checkOffset","ext","noAssert","mul","checkInt","min","maxBytes","limit","sub","checkIEEE754","writeFloat","littleEndian","writeDouble","targetStart","INVALID_BASE64_RE","base64clean","units","leadSurrogate","byteArray","hi","lo","alphabet","table","i16","process","browserModule","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","Item","noop","normalizeHeaderName","headers","normalizedName","enhanceError","config","request","response","createError","settle","reject","validateStatus","cookies","expires","secure","cookie","isAbsoluteURL","combineURLs","baseURL","relativeURL","buildFullPath","requestedURL","ignoreDuplicateOf","parseHeaders","line","isURLSameOrigin","msie","urlParsingNode","originURL","resolveURL","href","requestURL","Cancel","Cancel_1","require$$4","require$$5","require$$6","require$$7","defaults","require$$8","require$$9","xhr","requestData","requestHeaders","responseType","onCanceled","done","username","password","fullPath","onloadend","responseHeaders","responseData","timeoutErrorMessage","transitional","xsrfValue","cancel","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","getDefaultAdapter","adapter","stringifySafely","rawValue","parser","encoder","data","silentJSONParsing","forcedJSONParsing","strictJSONParsing","status","method","defaults_1","transformData","fns","context","isCancel","throwIfCancellationRequested","dispatchRequest","reason","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","VERSION","thing","deprecatedWarnings","version","formatMessage","opt","desc","opts","assertOptions","allowUnknown","Axios","instanceConfig","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","promise","chain","newConfig","onFulfilled","onRejected","Axios_1","CancelToken","executor","resolvePromise","token","onfulfilled","_resolve","listener","CancelToken_1","spread","isAxiosError","payload","createInstance","defaultConfig","axios","promises","require$$10","axiosModule","axios_1","_HttpClientCreator","errorHandler","__privateAdd","_setInterceptors","httpClient","__privateGet","_startTimeInterceptor","_loggerInterceptor","_a","_addDurationInterceptor","_errorHandlerInterceptor","errorFullInfo","errorResponse","errorData","HttpClientCreator","resOrErr","TokenProvider","identityServerHostName","clientId","clientSecret","tokenType","authEndpoint","_httpClient","_clientSecret","__privateSet","secrets","tokenInfo","access_token","expires_in","expiresIn","token_type","scope","_EngineClient","returnOriginalResponse","tokenProvider","authorizationParams","_handleErrors","_tokenProvider","_returnOriginalResponse","_secondAttempt","__privateMethod","_validateClient","validateClient_fn","_genHeaders","genHeaders_fn","returnOriginal","_validateRequest","validateRequest_fn","originalResponse","_b","_processResponse","processResponse_fn","handleErrors_fn","EngineClient","_validateReferences","validateReferences_fn","requests","processingContexts","rightsContexts","checkReference","contexts","guid","processingContext","rightsContext","_validateSchema","validateSchema_fn","responses","processedResponses","transformed","instanceIndex","baseInstance","_RequestBuilder","_getOrAddContextKey","_buildContextsStructure","buildContextsStructure_fn","instances","rightsContextKey","getOrAddContextKey_fn","processingContextKey","processedInstances","_processInstances","processInstances_fn","existingRequest","r","uuidv4","_validateBuild","validateBuild_fn","RequestBuilder","processedEvidences","_processEvidences","processEvidences_fn","existingContext","_buildEvidencesStructure","buildEvidencesStructure_fn","contextsDictionary","_getDependencyContext","getDependencyContext_fn","trueContext","requestInputData","_validateInstances","validateInstances_fn","dependencyContext","instanceWithDependencyContext"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50]}